{"remainingRequest":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\src\\views\\Forum_detail.vue?vue&type=style&index=0&id=8de32cfa&scoped=true&lang=css","dependencies":[{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\src\\views\\Forum_detail.vue","mtime":1555032240304},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.clearF{\n    clear: both;\n}\n  body{margin:0;padding:0;}\n  #nav{height:100px;width:100%;}\n  a{text-decoration: none;}\n\n  #main{\n      width:100%;\n      background:url('http://127.0.0.1:3000/img/sc_bg.jpg') no-repeat fixed;\n      background-position: center -200px;\n  }\n  #contain{\n      margin:0 40px 0 60px;max-width: 1600px;\n  }\n  #contain>h1{\n      color:#fff;\n      height:50px;\n      line-height: 50px;\n      text-align:left;\n      font-size:30px;\n      font-weight: 500;\n      margin:50px 0 30px 0;\n  }\n  #contain>h1>a{\n      width:50px;\n      height:50px;\n      display:block;\n      float:left;\n      margin-right:10px;\n      background-image:url('http://127.0.0.1:3000/img/logo-sc2.png');\n      background-repeat:no-repeat;\n      background-size: 50px;\n  }\n  #contain .button{\n      display:block;\n      width:140px;\n      height:36px;\n      background:#ffc729;\n      color:#000;\n      text-align: center;\n      line-height: 36px;\n      font-size: 16px;\n      font-weight:800;\n  }\n a.button{float:left;} \n .clear{\n     clear:both;\n }\n .pgs{\n     margin-bottom:26px;\n }\n .thead{\n     width:100%;\n     height:60px;\n     background:rgba(0,0,0,0.2);\n     margin-top:25px;\n     border-top:1px solid rgba(255,255,255,0.2);\n     border-bottom:1px solid rgba(255,255,255,0.2);\n }\n .thead>div,.forum_list>li>div{float:left;color:rgba(255,255,255,0.7);padding:0;}\n .forum_list{\n     list-style: none;\n     padding:0;\n     margin:0;\n }\n .forum_list>li{\n     width:100%;\n     height:60px;\n     border-bottom:1px solid rgba(255,255,255,0.2);\n    \n }\n .title{\n     width:800px;\n     height:60px;\n     line-height:60px;\n    \n     }\n  .thead .title{\n      width:750px;\n      padding-left:50px;\n  }\n .author{\n     width:150px;\n     height:60px;\n     line-height: 60px;\n }\n .reply,.watch{\n     width:80px;\n     height:60px;\n     line-height: 60px;\n }\n .last{\n     width:300px;\n     height:60px;\n     line-height: 60px;\n     float:right;\n     text-align: right;\n }\n .title>img{\n   margin-left:25px;\n   vertical-align: text-bottom;\n   margin-right:15px;\n }\n .button2{\n     display:block;\n     width:80px;\n     height:24px;\n     line-height: 24px;\n     color:rgba(255,255,255,.5);\n     background:rgba(255,255,255,.1);\n     text-align:center;\n     font-size:0.9rem;\n     float:right;\n     transition:all 0.5s;\n }\n .button2:hover{\n     background:rgba(255,255,255,.3);\n     color:rgba(255,255,255,.8)\n }\n .floor{\n     width:100%;\n     min-height:150px;\n     border-top:1px solid rgba(255,255,255,.2);\n     border-bottom:1px solid rgba(255,255,255,.2);\n }\n .head{\n     height:110px;\n     width:240px;\n     float:left;\n     padding:25px 0 0 0;\n }\n .head>img{\n     height:78px;\n     width:78px;\n     border:1px solid #000;\n     vertical-align: top;\n     float:left;\n }\n .head>a{\n     color:rgba(255,255,255,.5);\n     margin-left:13px;\n     float:left;\n }\n .middle{\n     width:940px;\n     height:150px;\n     float:left;\n     padding:25px 0 0 25px;\n }\n .middle>p{\n     margin:0;\n     color:rgba(255,255,255,.9);\n     line-height:1.8rem;\n     text-align:left;\n }\n .foot{\n     color:rgba(255,255,255,.8);\n     width:138px;\n     height:150px;\n     float:right;\n }\n .foot>span{\n     margin-left:100px;\n }\n .foot>p{\n     font-size:.8rem;\n     margin-top:0;\n }\n .reply{\n     width:100%;\n     height:480px;\n     background:rgba(255,255,255,.05);\n }\n .reply_left{\n     margin-top:40px;\n     width:20%;\n     float:left;\n     color:#fff;\n }\n .reply_left>img{\n     width:78px;\n     height:78px;\n     vertical-align:text-top;\n }\n .reply_left>p{\n     font-size:1.5rem;\n     font-weight:bold;\n }\n .reply_left>span{\n    font-size:0.9rem;\n    margin-left:5px;\n }\n #editorElem{\n     margin-top:50px;\n     text-align:left;\n     color:#fff;\n     width:75%;\n     float:right;\n     margin-right:20px;\n }\n .reply>a{\n     margin-left:331px;\n     margin-top:12px;\n }\n",{"version":3,"sources":["Forum_detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Forum_detail.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n    <div id=\"main\" @click='clear'>\r\n        <div id=\"contain\">\r\n            <table></table>\r\n            <h1><a href=\"#\" :style=\"'background-image:url('+logo+')'\"></a>{{forum[0].title}}</h1>\r\n            <div class=\"pgs\">\r\n                <a href=\"#hf\" class=\"button\">回复</a>\r\n                <a href=\"javascript:;\" class=\"button2\" @click='href'>返回列表</a>\r\n                <div class=\"clear\"></div>\r\n            </div>\r\n            <div class=\"host\">\r\n                <div class=\"head\">\r\n                    <img src=\"http://127.0.0.1:3000/user/1.jpg\" alt=\"\">\r\n                    <a href=\"#\">{{forum[0].uname}}</a>\r\n                </div>\r\n                <div class=\"middle\">\r\n                    <p>{{forum[0].contant}}</p>\r\n                </div>\r\n                <div class=\"foot\">\r\n                    <span>楼主</span>\r\n                    <p>{{forum[0].time}}</p>\r\n                </div>\r\n            </div>\r\n            <div class='clearF'></div>\r\n            <div class=\"floor\" v-for=\"(item,i) of comments\">\r\n                 <div class=\"head\">\r\n                     <img src=\"http://127.0.0.1:3000/user/1.jpg\" alt=\"\">\r\n                     <a href=\"#\">{{item.uname}}</a>\r\n                 </div>\r\n                 <div class=\"middle\">\r\n                     <p v-html='item.contant'></p>\r\n                 </div>\r\n                 <div class=\"foot\">\r\n                     <span>{{i+1}}</span>\r\n                     <sup>#</sup>\r\n                     <p>{{item.time}}</p>\r\n                 </div>\r\n            </div> \r\n            <div class=\"clear\"></div>\r\n            <div class=\"reply\" id='hf'>\r\n                <div class=\"reply_left\">\r\n                    <p>快速回复</p>\r\n                </div>\r\n                <div id=\"editorElem\"></div> \r\n                <div class=\"clear\"></div>\r\n                <a href=\"javascript:;\" class=\"button\" @click=\"getContent\">提交回复</a>\r\n            </div>  \r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {Toast} from \"mint-ui\"\r\nimport '../assets/util.js'\r\nimport E from 'wangeditor'\r\nimport Qs from 'qs'\r\nexport default {\r\n    name: 'editor',\r\n    data(){\r\n       return{\r\n           forum:[{title:''}],\r\n           comments:[],    \r\n           editorContent: '',\r\n           fid:this.$route.query.fid,\r\n           edi:'',\r\n           game:this.$route.query.game,\r\n           logo:''\r\n       }\r\n    },\r\n    created(){\r\n        if(this.game==1){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ms.png'\r\n        }else if(this.game==2){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/xj2.png'\r\n        }else if(this.game==3){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ah3.png'\r\n        }else if(this.game==4){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/sw.png'\r\n        }else if(this.game==5){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ls.png'\r\n        }else if(this.game==6){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/fb.png'\r\n        }else if(this.game==7){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ms3.png'\r\n        }else if(this.game==8){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/xj.png'\r\n        }\r\n        window.scrollTo(0,0)\r\n        this.axios.get(`http://127.0.0.1:3000/post/getforumlist?fid=${this.fid}`)\r\n        .then(res=>{\r\n            let date=new Date(res.data[0].time*1000);\r\n            res.data[0].time=date.format('yyyy-MM-dd hh:mm:ss');\r\n            this.forum=res.data;\r\n            this.fid=this.forum[0].fid;\r\n        }),\r\n        this.axios.get(`http://127.0.0.1:3000/comment/getcomment?fid=${this.fid}`)\r\n        .then(res=>{\r\n            for(var item of res.data){\r\n                let date=new Date(item.time*1000);\r\n                item.time=date.format('yyyy-MM-dd hh:mm:ss');  \r\n            }\r\n            this.comments=res.data;\r\n        })\r\n    },\r\n    methods:{\r\n        clear(){\r\n            this.$emit('clear')\r\n        },\r\n        href(){\r\n            this.$router.push(`/forum_list?game=${this.$route.query.game}&type=${this.$route.query.type}`)\r\n        },\r\n        getContent: function () {\r\n            if(sessionStorage['user'] ){\r\n                \r\n                var content=this.editorContent\r\n                console.log(this.editorContent)\r\n                if(content==''){\r\n                    Toast(\"评论内容不能为空\");\r\n                    return\r\n                }\r\n                var timestamp = parseInt((new Date()).getTime()/1000); \r\n                var param={fid:this.fid,uname:sessionStorage['user'],contant:content,time:timestamp};\r\n                this.axios.post(`http://127.0.0.1:3000/comment/sendcomment`,Qs.stringify(param),\r\n                {headers: {'Content-Type': 'application/x-www-form-urlencoded'}\r\n                })\r\n                .then((res)=>{\r\n                    let date=new Date(param.time*1000)\r\n                    param.time=date.format('yyyy-MM-dd hh:mm:ss');  \r\n                    this.comments.push(param)\r\n                    $('.w-e-text').html('')\r\n                })\r\n            }else{\r\n                this.$router.push('/Login')\r\n            }\r\n        },\r\n    },\r\n    mounted() {\r\n        var editor = new E('#editorElem')\r\n        editor.customConfig.onchange = (html) => {\r\n          this.editorContent= html\r\n        }\r\n       editor.create()\r\n    },\r\n    \r\n\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n    .clearF{\r\n        clear: both;\r\n    }\r\n      body{margin:0;padding:0;}\r\n      #nav{height:100px;width:100%;}\r\n      a{text-decoration: none;}\r\n\r\n      #main{\r\n          width:100%;\r\n          background:url('http://127.0.0.1:3000/img/sc_bg.jpg') no-repeat fixed;\r\n          background-position: center -200px;\r\n      }\r\n      #contain{\r\n          margin:0 40px 0 60px;max-width: 1600px;\r\n      }\r\n      #contain>h1{\r\n          color:#fff;\r\n          height:50px;\r\n          line-height: 50px;\r\n          text-align:left;\r\n          font-size:30px;\r\n          font-weight: 500;\r\n          margin:50px 0 30px 0;\r\n      }\r\n      #contain>h1>a{\r\n          width:50px;\r\n          height:50px;\r\n          display:block;\r\n          float:left;\r\n          margin-right:10px;\r\n          background-image:url('http://127.0.0.1:3000/img/logo-sc2.png');\r\n          background-repeat:no-repeat;\r\n          background-size: 50px;\r\n      }\r\n      #contain .button{\r\n          display:block;\r\n          width:140px;\r\n          height:36px;\r\n          background:#ffc729;\r\n          color:#000;\r\n          text-align: center;\r\n          line-height: 36px;\r\n          font-size: 16px;\r\n          font-weight:800;\r\n      }\r\n     a.button{float:left;} \r\n     .clear{\r\n         clear:both;\r\n     }\r\n     .pgs{\r\n         margin-bottom:26px;\r\n     }\r\n     .thead{\r\n         width:100%;\r\n         height:60px;\r\n         background:rgba(0,0,0,0.2);\r\n         margin-top:25px;\r\n         border-top:1px solid rgba(255,255,255,0.2);\r\n         border-bottom:1px solid rgba(255,255,255,0.2);\r\n     }\r\n     .thead>div,.forum_list>li>div{float:left;color:rgba(255,255,255,0.7);padding:0;}\r\n     .forum_list{\r\n         list-style: none;\r\n         padding:0;\r\n         margin:0;\r\n     }\r\n     .forum_list>li{\r\n         width:100%;\r\n         height:60px;\r\n         border-bottom:1px solid rgba(255,255,255,0.2);\r\n        \r\n     }\r\n     .title{\r\n         width:800px;\r\n         height:60px;\r\n         line-height:60px;\r\n        \r\n         }\r\n      .thead .title{\r\n          width:750px;\r\n          padding-left:50px;\r\n      }\r\n     .author{\r\n         width:150px;\r\n         height:60px;\r\n         line-height: 60px;\r\n     }\r\n     .reply,.watch{\r\n         width:80px;\r\n         height:60px;\r\n         line-height: 60px;\r\n     }\r\n     .last{\r\n         width:300px;\r\n         height:60px;\r\n         line-height: 60px;\r\n         float:right;\r\n         text-align: right;\r\n     }\r\n     .title>img{\r\n       margin-left:25px;\r\n       vertical-align: text-bottom;\r\n       margin-right:15px;\r\n     }\r\n     .button2{\r\n         display:block;\r\n         width:80px;\r\n         height:24px;\r\n         line-height: 24px;\r\n         color:rgba(255,255,255,.5);\r\n         background:rgba(255,255,255,.1);\r\n         text-align:center;\r\n         font-size:0.9rem;\r\n         float:right;\r\n         transition:all 0.5s;\r\n     }\r\n     .button2:hover{\r\n         background:rgba(255,255,255,.3);\r\n         color:rgba(255,255,255,.8)\r\n     }\r\n     .floor{\r\n         width:100%;\r\n         min-height:150px;\r\n         border-top:1px solid rgba(255,255,255,.2);\r\n         border-bottom:1px solid rgba(255,255,255,.2);\r\n     }\r\n     .head{\r\n         height:110px;\r\n         width:240px;\r\n         float:left;\r\n         padding:25px 0 0 0;\r\n     }\r\n     .head>img{\r\n         height:78px;\r\n         width:78px;\r\n         border:1px solid #000;\r\n         vertical-align: top;\r\n         float:left;\r\n     }\r\n     .head>a{\r\n         color:rgba(255,255,255,.5);\r\n         margin-left:13px;\r\n         float:left;\r\n     }\r\n     .middle{\r\n         width:940px;\r\n         height:150px;\r\n         float:left;\r\n         padding:25px 0 0 25px;\r\n     }\r\n     .middle>p{\r\n         margin:0;\r\n         color:rgba(255,255,255,.9);\r\n         line-height:1.8rem;\r\n         text-align:left;\r\n     }\r\n     .foot{\r\n         color:rgba(255,255,255,.8);\r\n         width:138px;\r\n         height:150px;\r\n         float:right;\r\n     }\r\n     .foot>span{\r\n         margin-left:100px;\r\n     }\r\n     .foot>p{\r\n         font-size:.8rem;\r\n         margin-top:0;\r\n     }\r\n     .reply{\r\n         width:100%;\r\n         height:480px;\r\n         background:rgba(255,255,255,.05);\r\n     }\r\n     .reply_left{\r\n         margin-top:40px;\r\n         width:20%;\r\n         float:left;\r\n         color:#fff;\r\n     }\r\n     .reply_left>img{\r\n         width:78px;\r\n         height:78px;\r\n         vertical-align:text-top;\r\n     }\r\n     .reply_left>p{\r\n         font-size:1.5rem;\r\n         font-weight:bold;\r\n     }\r\n     .reply_left>span{\r\n        font-size:0.9rem;\r\n        margin-left:5px;\r\n     }\r\n     #editorElem{\r\n         margin-top:50px;\r\n         text-align:left;\r\n         color:#fff;\r\n         width:75%;\r\n         float:right;\r\n         margin-right:20px;\r\n     }\r\n     .reply>a{\r\n         margin-left:331px;\r\n         margin-top:12px;\r\n     }\r\n</style>"]}]}