{"remainingRequest":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\src\\views\\Forum_list.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\src\\views\\Forum_list.vue","mtime":1555049239155},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"c:\\Users\\uid\\Desktop\\战网\\zw\\bfx\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      forumlist: [],\n      pno: 0,\n      game: this.$route.query.game,\n      type: this.$route.query.type,\n      logo: '',\n      typetxt: '',\n      fid: [],\n      i: ''\n    };\n  },\n  created: function created() {\n    this.onload();\n    window.scrollTo(0, 0);\n\n    if (this.type == 1) {\n      this.typetxt = '综合讨论区';\n    } else if (this.type == 2) {\n      this.typetxt = '客服支持区';\n    } else if (this.type == 3) {\n      this.typetxt = '战友招募区';\n    } else if (this.type == 4) {\n      this.typetxt = '活动讨论区';\n    } else if (this.type == 5) {\n      this.typetxt = '汉化及配音讨论区';\n    } else if (this.type == 6) {\n      this.typetxt = '游戏讨论区';\n    }\n\n    if (this.game == 1) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/ms.png';\n    } else if (this.game == 2) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/xj2.png';\n    } else if (this.game == 3) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/ah3.png';\n    } else if (this.game == 4) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/sw.png';\n    } else if (this.game == 5) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/ls.png';\n    } else if (this.game == 6) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/fb.png';\n    } else if (this.game == 7) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/ms3.png';\n    } else if (this.game == 8) {\n      this.logo = 'http://127.0.0.1:3000/img/xtb/xj.png';\n    }\n  },\n  methods: {\n    onload: function onload() {\n      var _this = this;\n\n      this.axios.get(\"http://127.0.0.1:3000/post/getforumlist?game=\".concat(this.game, \"&type=\").concat(this.type, \"&pno=0\")).then(function (res) {\n        _this.forumlist = res.data;\n\n        var _loop = function _loop(i) {\n          var date = new Date(_this.forumlist[i].time * 1000);\n          _this.forumlist[i].time = date.format('yyyy-MM-dd hh:mm:ss');\n\n          _this.axios.get(\"http://127.0.0.1:3000/comment/getcomment?fid=\".concat(_this.forumlist[i].fid)).then(function (res) {\n            _this.fid[i] = res.data.length;\n          });\n        };\n\n        for (var i = 0; i < _this.forumlist.length; i++) {\n          _loop(i);\n        }\n      });\n    },\n    clear: function clear() {\n      this.$emit('clear');\n    },\n    hrefadd: function hrefadd() {\n      this.$router.push(\"/forum_add?game=\".concat(this.game, \"&type=\").concat(this.type));\n    },\n    href: function href(e, f) {\n      f++;\n      this.axios.get(\"http://127.0.0.1:3000/post/see?fid=\".concat(e, \"&clicks=\").concat(f)).then(function (res) {\n        console.log(res);\n      });\n      this.$router.push(\"/forum_detail?fid=\".concat(e, \"&game=\").concat(this.game, \"&type=\").concat(this.type));\n    }\n  }\n};",{"version":3,"sources":["Forum_list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n     <div id=\"main\" @click='clear'>\r\n        <div id=\"contain\">\r\n            <table></table>\r\n            <h1><a href=\"#\" :style=\"'background-image:url('+logo+')'\"></a> {{typetxt}}</h1>\r\n            <div class=\"pgs\">\r\n                <a href=\"javascript:;\" @click='hrefadd' class=\"button\"><span class=\"new_topic\"></span>发新帖</a>\r\n                <div class=\"pg\">\r\n                    <a href=\"#\" class=\"prev\">上一页</a>\r\n                    <a href=\"#\" class=\"selected\">1</a>\r\n                    <a href=\"#\" class=\"next\">下一页</a>\r\n                </div>\r\n                <div class=\"clear\"></div>\r\n            </div>\r\n            <div class=\"thead\">\r\n                <div id=\"title\">标题</div>\r\n                <div id=\"author\">作者</div>\r\n                \r\n                <div id=\"watch\">查看</div>\r\n                <div id=\"last\">最后发表</div>\r\n            </div>\r\n            <ul class=\"forum_list\">\r\n                <li v-for=\"(item,i) of forumlist\" @click='href(item.fid,item.clicks)' :key=i class='xs'>\r\n                    <div class=\"title\"><img src=\"http://127.0.0.1:3000/img/folder_common.png\" alt=\"\">{{item.title}}</div>\r\n                    <div class=\"author\">{{item.uname}}</div>\r\n\r\n                    <div class=\"watch\">{{item.clicks}}</div>\r\n                    <div class=\"last\">{{item.time}}</div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            forumlist:[],\r\n            pno:0,\r\n            game:this.$route.query.game,\r\n            type:this.$route.query.type,\r\n            logo:'',\r\n            typetxt:'',\r\n            fid:[],\r\n            i:''\r\n        }\r\n    },\r\n    created(){\r\n        this.onload()\r\n        window.scrollTo(0,0)\r\n        if(this.type==1){\r\n            this.typetxt='综合讨论区'\r\n        }else if(this.type==2){\r\n            this.typetxt='客服支持区'\r\n        }else if(this.type==3){\r\n            this.typetxt='战友招募区'\r\n        }else if(this.type==4){\r\n            this.typetxt='活动讨论区'\r\n        }else if(this.type==5){\r\n            this.typetxt='汉化及配音讨论区'\r\n        }else if(this.type==6){\r\n            this.typetxt='游戏讨论区'\r\n        }\r\n        if(this.game==1){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ms.png'\r\n        }else if(this.game==2){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/xj2.png'\r\n        }else if(this.game==3){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ah3.png'\r\n        }else if(this.game==4){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/sw.png'\r\n        }else if(this.game==5){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ls.png'\r\n        }else if(this.game==6){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/fb.png'\r\n        }else if(this.game==7){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/ms3.png'\r\n        }else if(this.game==8){\r\n            this.logo='http://127.0.0.1:3000/img/xtb/xj.png'\r\n        }\r\n    },\r\n    methods: {\r\n        onload(){\r\n            this.axios.get(`http://127.0.0.1:3000/post/getforumlist?game=${this.game}&type=${this.type}&pno=0`)\r\n            .then(res=>{\r\n            this.forumlist=res.data;\r\n            for(let i=0; i<this.forumlist.length;i++){\r\n                let date=new Date(this.forumlist[i].time*1000)\r\n                this.forumlist[i].time=date.format('yyyy-MM-dd hh:mm:ss');\r\n                this.axios.get(`http://127.0.0.1:3000/comment/getcomment?fid=${this.forumlist[i].fid}`)\r\n                .then(res=>{\r\n                    this.fid[i]=res.data.length;\r\n                })\r\n            }\r\n            })\r\n        },\r\n        clear(){\r\n            this.$emit('clear')\r\n        },\r\n        hrefadd(){\r\n            \r\n            this.$router.push(`/forum_add?game=${this.game}&type=${this.type}`)\r\n        },\r\n        href(e,f){\r\n            f++\r\n            this.axios.get(`http://127.0.0.1:3000/post/see?fid=${e}&clicks=${f}`).then(res=>{\r\n                console.log(res)\r\n            })\r\n            this.$router.push(`/forum_detail?fid=${e}&game=${this.game}&type=${this.type}`)\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style scoped> \r\n body{margin:0;padding:0;}\r\n .xs{\r\n     cursor: pointer;\r\n }\r\n      #nav{height:100px;width:100%;}\r\n      #main{\r\n          width:100%;\r\n          height:1000px;\r\n          background-image:url('http://127.0.0.1:3000/img/sc_bg.jpg');\r\n          background-position: center -200px;\r\n      }\r\n      #contain{\r\n          width:1400px !important;\r\n          margin:0  auto;\r\n      }\r\n      #contain>h1{\r\n          color:#fff;\r\n          height:50px;\r\n          line-height: 50px;\r\n          font-size:30px;\r\n          font-weight: 500;\r\n          text-align:left;\r\n          margin:50px 0 40px 0;\r\n      }\r\n      #contain>h1>a{\r\n          width:50px;\r\n          height:50px;\r\n          display:block;\r\n          float:left;\r\n          margin-right:10px;\r\n          background-image:url('http://127.0.0.1:3000/img/logo-sc2.png');\r\n          background-repeat:no-repeat;\r\n          background-size: 50px;\r\n      }\r\n      #contain .button{\r\n          display:block;\r\n          width:140px;\r\n          height:36px;\r\n          background:#ffc729;\r\n          color:#000;\r\n          text-align: center;\r\n          line-height: 36px;\r\n          text-decoration: none;\r\n          font-size: 16px;\r\n          font-weight:800;\r\n      }\r\n     span.new_topic{\r\n         display:inline-block;\r\n         position:relative;\r\n         top:5px;\r\n         width:24px;\r\n         height:24px;\r\n         background-image:url('http://127.0.0.1:3000/img/sprite.png');\r\n         background-position: -48px -168px;\r\n     }\r\n     a.button{float:left;}\r\n     .pg{\r\n         text-align: right;\r\n         width:500px;\r\n         float:right;margin-top:7px;}\r\n     .pg>a{\r\n         display:inline-block;\r\n         width:32px;\r\n         height:24px;\r\n         line-height:24px;\r\n         background: rgba(255,255,255,0.1);\r\n         color: rgba(255,255,255,0.5);\r\n         text-decoration: none;\r\n         margin-right:5px;\r\n         vertical-align:bottom; \r\n         text-align: center;     \r\n    }\r\n    a.selected,.pg>a.selected:hover{\r\n        background:#f8b700;\r\n        color:#000;\r\n    }\r\n    .pg>a:hover{\r\n        background:rgba(255,255,255,0.2);\r\n        color:rgba(255,255,255,0.8);\r\n    }\r\n     a.prev,a.next{\r\n         width:66px;\r\n     }\r\n     .pg>input{\r\n         width:25px;\r\n         height:18px;\r\n         text-align: center;\r\n     }\r\n     .pg>span{\r\n         color:rgba(255,255,255,0.5);\r\n         margin-left:5px;\r\n         letter-spacing:3px;\r\n     }\r\n     .clear{\r\n         clear:both;\r\n     }\r\n     .thead{\r\n         width:100%;\r\n         height:60px;\r\n         background:rgba(0,0,0,0.2);\r\n         margin-top:25px;\r\n         border-top:1px solid rgba(255,255,255,0.2);\r\n         border-bottom:1px solid rgba(255,255,255,0.2);\r\n     }\r\n     .thead>div,.forum_list>li>div{float:left;color:rgba(255,255,255,0.7);padding:0;}\r\n     .forum_list{\r\n         list-style: none;\r\n         padding:0;\r\n         margin:0;\r\n     }\r\n     .forum_list>li{\r\n         width:100%;\r\n         height:60px;\r\n         border-bottom:1px solid rgba(255,255,255,0.2);\r\n        \r\n     }\r\n     #title{\r\n         width:720px;\r\n         height:60px;\r\n         line-height:60px;\r\n         text-align:left;\r\n         margin-left:40px;\r\n         }\r\n     .title{\r\n         width:760px;\r\n         height:60px;\r\n         line-height:60px;\r\n         text-align:left;\r\n         }\r\n      .thead .title{\r\n          width:750px;\r\n          padding-left:50px;\r\n      }\r\n     #author,.author{\r\n         width:120px;\r\n         height:60px;\r\n         line-height: 60px;\r\n         text-align:left;\r\n     }\r\n     #reply,#watch,.reply,.watch{\r\n         width:80px;\r\n         height:60px;\r\n         line-height: 60px;\r\n     }\r\n     #last,.forum_list>li>div.last{\r\n         width:300px;\r\n         height:60px;\r\n         line-height: 60px;\r\n         float:right;\r\n         text-align: right;\r\n         padding-right:12px;\r\n     }\r\n     .title>img{\r\n       margin-left:25px;\r\n       vertical-align: text-bottom;\r\n       margin-right:15px;\r\n     }\r\n</style>"],"sourceRoot":"src\\views"}]}